{"version":3,"file":"ngx-restangular.js","sourceRoot":"","sources":["../../../src/ngx-restangular.ts"],"names":[],"mappings":"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","sourcesContent":["import {Injectable, Inject, Injector, Optional} from \"@angular/core\";\r\nimport {assign} from 'core-js/fn/object';\r\nimport * as _ from './lodash';\r\n\r\nimport {BehaviorSubject} from \"rxjs/BehaviorSubject\";\r\nimport \"rxjs/add/operator/filter\";\r\n\r\nimport {RESTANGULAR} from \"./ngx-restangular.config\";\r\nimport {RestangularHttp} from \"./ngx-restangular-http\";\r\nimport {RestangularConfigurer} from \"./ngx-restangular-config.factory\";\r\n\r\n\r\n@Injectable()\r\nexport class Restangular {\r\n  provider: {\r\n    setBaseUrl: any,\r\n    setDefaultHeaders: any,\r\n    configuration: any,\r\n    setSelfLinkAbsoluteUrl: any,\r\n    setExtraFields: any,\r\n    setDefaultHttpFields: any,\r\n    setPlainByDefault: any,\r\n    setEncodeIds: any,\r\n    setDefaultRequestParams: any,\r\n    requestParams: any,\r\n    defaultHeaders: any,\r\n    setDefaultResponseMethod: any,\r\n    defaultResponseMethod: any,\r\n    setMethodOverriders: any,\r\n    setJsonp: any,\r\n    setUrlCreator: any,\r\n    setRestangularFields: any,\r\n    setUseCannonicalId: any,\r\n    addResponseInterceptor: any,\r\n    addErrorInterceptor: any,\r\n    setResponseInterceptor: any,\r\n    setResponseExtractor: any,\r\n    setErrorInterceptor: any,\r\n    addRequestInterceptor: any,\r\n    setRequestInterceptor: any,\r\n    setFullRequestInterceptor: any,\r\n    addFullRequestInterceptor: any,\r\n    setOnBeforeElemRestangularized: any,\r\n    setRestangularizePromiseInterceptor: any,\r\n    setOnElemRestangularized: any,\r\n    setParentless: any,\r\n    setRequestSuffix: any,\r\n    addElementTransformer: any,\r\n    extendCollection: any,\r\n    extendModel: any,\r\n    setTransformOnlyServerElements: any,\r\n    setFullResponse: any,\r\n    $get: any\r\n  };\r\n  addElementTransformer: any;\r\n  extendCollection: any;\r\n  extendModel: any;\r\n  copy;\r\n  configuration;\r\n  service;\r\n  id;\r\n  route;\r\n  parentResource;\r\n  restangularCollection;\r\n  cannonicalId;\r\n  etag;\r\n  selfLink;\r\n  get;\r\n  getList;\r\n  put;\r\n  post;\r\n  remove;\r\n  head;\r\n  trace;\r\n  options;\r\n  patch;\r\n  getRestangularUrl;\r\n  getRequestedUrl;\r\n  putElement;\r\n  addRestangularMethod;\r\n  getParentList;\r\n  clone;\r\n  ids;\r\n  httpConfig;\r\n  reqParams;\r\n  one;\r\n  all;\r\n  several;\r\n  oneUrl;\r\n  allUrl;\r\n  customPUT;\r\n  customPATCH;\r\n  customPOST;\r\n  customDELETE;\r\n  customGET;\r\n  customGETLIST;\r\n  customOperation;\r\n  doPUT;\r\n  doPATCH;\r\n  doPOST;\r\n  doDELETE;\r\n  doGET;\r\n  doGETLIST;\r\n  fromServer;\r\n  withConfig;\r\n  withHttpConfig;\r\n  singleOne;\r\n  plain;\r\n  save;\r\n  restangularized;\r\n  restangularizeElement;\r\n  restangularizeCollection;\r\n  \r\n  constructor(\r\n    @Optional() @Inject(RESTANGULAR) public configObj,\r\n    private injector: Injector,\r\n    private http: RestangularHttp\r\n  ) {\r\n    this.provider = new providerConfig(http);\r\n    let element = this.provider.$get();\r\n    assign(this, element);\r\n    \r\n    this.setDefaultConfig();\r\n  }\r\n  \r\n  setDefaultConfig() {\r\n    if (!this.configObj || !_.isFunction(this.configObj.fn)) {\r\n      return;\r\n    }\r\n    \r\n    let arrDI = _.map(this.configObj.arrServices, (services)=> {\r\n      return this.injector.get(services);\r\n    });\r\n    \r\n    this.configObj.fn(...[this.provider, ...arrDI]);\r\n  }\r\n}\r\n\r\nfunction providerConfig($http) {\r\n  var globalConfiguration = {};\r\n  \r\n  RestangularConfigurer(this, globalConfiguration);\r\n  \r\n  this.$get = $get\r\n  function $get() {\r\n    \r\n    function createServiceForConfiguration(config) {\r\n      var service: any = {};\r\n      \r\n      var urlHandler = new config.urlCreatorFactory[config.urlCreator]();\r\n      urlHandler.setConfig(config);\r\n      \r\n      function restangularizeBase(parent, elem, route, reqParams, fromServer) {\r\n        elem[config.restangularFields.route] = route;\r\n        elem[config.restangularFields.getRestangularUrl] = _.bind(urlHandler.fetchUrl, urlHandler, elem);\r\n        elem[config.restangularFields.getRequestedUrl] = _.bind(urlHandler.fetchRequestedUrl, urlHandler, elem);\r\n        elem[config.restangularFields.addRestangularMethod] = _.bind(addRestangularMethodFunction, elem);\r\n        elem[config.restangularFields.clone] = _.bind(copyRestangularizedElement, elem);\r\n        elem[config.restangularFields.reqParams] = _.isEmpty(reqParams) ? null : reqParams;\r\n        elem[config.restangularFields.withHttpConfig] = _.bind(withHttpConfig, elem);\r\n        elem[config.restangularFields.plain] = _.bind(stripRestangular, elem, elem);\r\n        \r\n        // Tag element as restangularized\r\n        elem[config.restangularFields.restangularized] = true;\r\n        \r\n        // RequestLess connection\r\n        elem[config.restangularFields.one] = _.bind(one, elem, elem);\r\n        elem[config.restangularFields.all] = _.bind(all, elem, elem);\r\n        elem[config.restangularFields.several] = _.bind(several, elem, elem);\r\n        elem[config.restangularFields.oneUrl] = _.bind(oneUrl, elem, elem);\r\n        elem[config.restangularFields.allUrl] = _.bind(allUrl, elem, elem);\r\n        \r\n        elem[config.restangularFields.fromServer] = !!fromServer;\r\n        \r\n        if (parent && config.shouldSaveParent(route)) {\r\n          var parentId = config.getIdFromElem(parent);\r\n          var parentUrl = config.getUrlFromElem(parent);\r\n          \r\n          var restangularFieldsForParent = _.union(\r\n            _.values(_.pick(config.restangularFields, ['route', 'singleOne', 'parentResource'])),\r\n            config.extraFields\r\n          );\r\n          var parentResource = _.pick(parent, restangularFieldsForParent);\r\n          \r\n          if (config.isValidId(parentId)) {\r\n            config.setIdToElem(parentResource, parentId, route);\r\n          }\r\n          if (config.isValidId(parentUrl)) {\r\n            config.setUrlToElem(parentResource, parentUrl, route);\r\n          }\r\n          \r\n          elem[config.restangularFields.parentResource] = parentResource;\r\n        } else {\r\n          elem[config.restangularFields.parentResource] = null;\r\n        }\r\n        return elem;\r\n      }\r\n      \r\n      function one(parent, route, id, singleOne) {\r\n        var error;\r\n        if (_.isNumber(route) || _.isNumber(parent)) {\r\n          error = 'You\\'re creating a Restangular entity with the number ';\r\n          error += 'instead of the route or the parent. For example, you can\\'t call .one(12).';\r\n          throw new Error(error);\r\n        }\r\n        if (_.isUndefined(route)) {\r\n          error = 'You\\'re creating a Restangular entity either without the path. ';\r\n          error += 'For example you can\\'t call .one(). Please check if your arguments are valid.';\r\n          throw new Error(error);\r\n        }\r\n        var elem = {};\r\n        config.setIdToElem(elem, id, route);\r\n        config.setFieldToElem(config.restangularFields.singleOne, elem, singleOne);\r\n        return restangularizeElem(parent, elem, route, false);\r\n      }\r\n      \r\n      \r\n      function all(parent, route) {\r\n        return restangularizeCollection(parent, [], route, false);\r\n      }\r\n      \r\n      function several(parent, route /*, ids */) {\r\n        var collection = [];\r\n        collection[config.restangularFields.ids] = Array.prototype.splice.call(arguments, 2);\r\n        return restangularizeCollection(parent, collection, route, false);\r\n      }\r\n      \r\n      function oneUrl(parent, route, url) {\r\n        if (!route) {\r\n          throw new Error('Route is mandatory when creating new Restangular objects.');\r\n        }\r\n        var elem = {};\r\n        config.setUrlToElem(elem, url, route);\r\n        return restangularizeElem(parent, elem, route, false);\r\n      }\r\n      \r\n      \r\n      function allUrl(parent, route, url) {\r\n        if (!route) {\r\n          throw new Error('Route is mandatory when creating new Restangular objects.');\r\n        }\r\n        var elem = {};\r\n        config.setUrlToElem(elem, url, route);\r\n        return restangularizeCollection(parent, elem, route, false);\r\n      }\r\n      \r\n      // Promises\r\n      function restangularizeResponse(subject, isCollection, valueToFill) {\r\n        return subject.filter(res => res);\r\n      }\r\n      \r\n      function resolvePromise(subject, response, data, filledValue) {\r\n        _.extend(filledValue, data);\r\n        \r\n        // Trigger the full response interceptor.\r\n        if (config.fullResponse) {\r\n          subject.next(_.extend(response, {\r\n            data: data\r\n          }));\r\n        } else {\r\n          subject.next(data);\r\n        }\r\n  \r\n        subject.complete();\r\n      }\r\n      \r\n      \r\n      // Elements\r\n      function stripRestangular(elem) {\r\n        if (_.isArray(elem)) {\r\n          var array = [];\r\n          _.each(elem, function (value) {\r\n            array.push(config.isRestangularized(value) ? stripRestangular(value) : value);\r\n          });\r\n          return array;\r\n        } else {\r\n          return _.omit(elem, _.values(_.omit(config.restangularFields, 'id')));\r\n        }\r\n      }\r\n      \r\n      function addCustomOperation(elem) {\r\n        elem[config.restangularFields.customOperation] = _.bind(customFunction, elem);\r\n        var requestMethods = {get: customFunction, delete: customFunction};\r\n        _.each(['put', 'patch', 'post'], function (name) {\r\n          requestMethods[name] = function (operation, elem, path, params, headers) {\r\n            return _.bind(customFunction, this)(operation, path, params, headers, elem);\r\n          };\r\n        });\r\n        _.each(requestMethods, function (requestFunc, name) {\r\n          var callOperation = name === 'delete' ? 'remove' : name;\r\n          _.each(['do', 'custom'], function (alias) {\r\n            elem[alias + name.toUpperCase()] = _.bind(requestFunc, elem, callOperation);\r\n          });\r\n        });\r\n        elem[config.restangularFields.customGETLIST] = _.bind(fetchFunction, elem);\r\n        elem[config.restangularFields.doGETLIST] = elem[config.restangularFields.customGETLIST];\r\n      }\r\n      \r\n      function copyRestangularizedElement(fromElement, toElement = {}) {\r\n        var copiedElement = assign(toElement, fromElement);\r\n        return restangularizeElem(copiedElement[config.restangularFields.parentResource],\r\n          copiedElement, copiedElement[config.restangularFields.route], true);\r\n      }\r\n      \r\n      function restangularizeElem(parent, element, route, fromServer?, collection?, reqParams?) {\r\n        var elem = config.onBeforeElemRestangularized(element, false, route);\r\n        \r\n        var localElem = restangularizeBase(parent, elem, route, reqParams, fromServer);\r\n        \r\n        if (config.useCannonicalId) {\r\n          localElem[config.restangularFields.cannonicalId] = config.getIdFromElem(localElem);\r\n        }\r\n        \r\n        if (collection) {\r\n          localElem[config.restangularFields.getParentList] = function () {\r\n            return collection;\r\n          };\r\n        }\r\n        \r\n        localElem[config.restangularFields.restangularCollection] = false;\r\n        localElem[config.restangularFields.get] = _.bind(getFunction, localElem);\r\n        localElem[config.restangularFields.getList] = _.bind(fetchFunction, localElem);\r\n        localElem[config.restangularFields.put] = _.bind(putFunction, localElem);\r\n        localElem[config.restangularFields.post] = _.bind(postFunction, localElem);\r\n        localElem[config.restangularFields.remove] = _.bind(deleteFunction, localElem);\r\n        localElem[config.restangularFields.head] = _.bind(headFunction, localElem);\r\n        localElem[config.restangularFields.trace] = _.bind(traceFunction, localElem);\r\n        localElem[config.restangularFields.options] = _.bind(optionsFunction, localElem);\r\n        localElem[config.restangularFields.patch] = _.bind(patchFunction, localElem);\r\n        localElem[config.restangularFields.save] = _.bind(save, localElem);\r\n        \r\n        addCustomOperation(localElem);\r\n        return config.transformElem(localElem, false, route, service, true);\r\n      }\r\n      \r\n      function restangularizeCollection(parent, element, route, fromServer?, reqParams?) {\r\n        var elem = config.onBeforeElemRestangularized(element, true, route);\r\n        \r\n        var localElem = restangularizeBase(parent, elem, route, reqParams, fromServer);\r\n        localElem[config.restangularFields.restangularCollection] = true;\r\n        localElem[config.restangularFields.post] = _.bind(postFunction, localElem, null);\r\n        localElem[config.restangularFields.remove] = _.bind(deleteFunction, localElem);\r\n        localElem[config.restangularFields.head] = _.bind(headFunction, localElem);\r\n        localElem[config.restangularFields.trace] = _.bind(traceFunction, localElem);\r\n        localElem[config.restangularFields.putElement] = _.bind(putElementFunction, localElem);\r\n        localElem[config.restangularFields.options] = _.bind(optionsFunction, localElem);\r\n        localElem[config.restangularFields.patch] = _.bind(patchFunction, localElem);\r\n        localElem[config.restangularFields.get] = _.bind(getById, localElem);\r\n        localElem[config.restangularFields.getList] = _.bind(fetchFunction, localElem, null);\r\n        \r\n        addCustomOperation(localElem);\r\n        return config.transformElem(localElem, true, route, service, true);\r\n      }\r\n      \r\n      function restangularizeCollectionAndElements(parent, element, route) {\r\n        var collection = restangularizeCollection(parent, element, route, false);\r\n        _.each(collection, function (elem) {\r\n          if (elem) {\r\n            restangularizeElem(parent, elem, route, false);\r\n          }\r\n        });\r\n        return collection;\r\n      }\r\n      \r\n      function getById(id, reqParams, headers) {\r\n        return this.customGET(id.toString(), reqParams, headers);\r\n      }\r\n      \r\n      function putElementFunction(idx, params, headers) {\r\n        var __this = this;\r\n        var elemToPut = this[idx];\r\n        var subject = new BehaviorSubject(null);\r\n        var filledArray = [];\r\n        filledArray = config.transformElem(filledArray, true, elemToPut[config.restangularFields.route], service);\r\n        \r\n        elemToPut.put(params, headers)\r\n        .subscribe(function (serverElem) {\r\n          var newArray = copyRestangularizedElement(__this);\r\n          newArray[idx] = serverElem;\r\n          filledArray = newArray;\r\n          subject.next(newArray);\r\n        }, function (response) {\r\n          subject.error(response);\r\n        }, function () {\r\n          subject.complete();\r\n        });\r\n        \r\n        return restangularizeResponse(subject, true, filledArray);\r\n      }\r\n      \r\n      function parseResponse(resData, operation, route, fetchUrl, response, subject) {\r\n        var data = config.responseExtractor(resData, operation, route, fetchUrl, response, subject);\r\n        var etag = response.headers.get('ETag');\r\n        if (data && etag) {\r\n          data[config.restangularFields.etag] = etag;\r\n        }\r\n        return data;\r\n      }\r\n      \r\n      \r\n      function fetchFunction(what, reqParams, headers) {\r\n        var __this = this;\r\n        var subject = new BehaviorSubject(null);\r\n        var operation = 'getList';\r\n        var url = urlHandler.fetchUrl(this, what);\r\n        var whatFetched = what || __this[config.restangularFields.route];\r\n        \r\n        var request = config.fullRequestInterceptor(null, operation,\r\n          whatFetched, url, headers || {}, reqParams || {}, this[config.restangularFields.httpConfig] || {});\r\n        \r\n        var filledArray = [];\r\n        filledArray = config.transformElem(filledArray, true, whatFetched, service);\r\n        \r\n        var method = 'getList';\r\n        \r\n        if (config.jsonp) {\r\n          method = 'jsonp';\r\n        }\r\n        \r\n        var okCallback = function (response) {\r\n          var resData = response.data;\r\n          var fullParams = response.config.params;\r\n          var data = parseResponse(resData, operation, whatFetched, url, response, subject);\r\n          \r\n          // support empty response for getList() calls (some APIs respond with 204 and empty body)\r\n          if (_.isUndefined(data) || '' === data) {\r\n            data = [];\r\n          }\r\n          if (!_.isArray(data)) {\r\n            throw new Error('Response for getList SHOULD be an array and not an object or something else');\r\n          }\r\n          \r\n          if (true === config.plainByDefault) {\r\n            return resolvePromise(subject, response, data, filledArray);\r\n          }\r\n          \r\n          var processedData = _.map(data, function (elem) {\r\n            if (!__this[config.restangularFields.restangularCollection]) {\r\n              return restangularizeElem(__this, elem, what, true, data);\r\n            } else {\r\n              return restangularizeElem(__this[config.restangularFields.parentResource],\r\n                elem, __this[config.restangularFields.route], true, data);\r\n            }\r\n          });\r\n          \r\n          processedData = _.extend(data, processedData);\r\n          \r\n          if (!__this[config.restangularFields.restangularCollection]) {\r\n            resolvePromise(\r\n              subject,\r\n              response,\r\n              restangularizeCollection(\r\n                __this,\r\n                processedData,\r\n                what,\r\n                true,\r\n                fullParams\r\n              ),\r\n              filledArray\r\n            );\r\n          } else {\r\n            resolvePromise(\r\n              subject,\r\n              response,\r\n              restangularizeCollection(\r\n                __this[config.restangularFields.parentResource],\r\n                processedData,\r\n                __this[config.restangularFields.route],\r\n                true,\r\n                fullParams\r\n              ),\r\n              filledArray\r\n            );\r\n          }\r\n        };\r\n        \r\n        urlHandler.resource(this, $http, request.httpConfig, request.headers, request.params, what,\r\n          this[config.restangularFields.etag], operation)[method]()\r\n        .subscribe(okCallback, function error(response) {\r\n          if (response.status === 304 && __this[config.restangularFields.restangularCollection]) {\r\n            resolvePromise(subject, response, __this, filledArray);\r\n          } else if (_.every(config.errorInterceptors, function (cb: any) {\r\n              \r\n              return cb(response, subject, okCallback) !== false;\r\n            })) {\r\n            // triggered if no callback returns false\r\n            subject.error(response);\r\n          }\r\n        });\r\n        \r\n        return restangularizeResponse(subject, true, filledArray).toPromise();\r\n      }\r\n      \r\n      function withHttpConfig(httpConfig) {\r\n        this[config.restangularFields.httpConfig] = httpConfig;\r\n        return this;\r\n      }\r\n      \r\n      function save(params, headers) {\r\n        if (this[config.restangularFields.fromServer]) {\r\n          return this[config.restangularFields.put](params, headers);\r\n        } else {\r\n          return _.bind(elemFunction, this)('post', undefined, params, undefined, headers);\r\n        }\r\n      }\r\n      \r\n      function elemFunction(operation, what, params, obj, headers) {\r\n        var __this = this;\r\n        var subject = new BehaviorSubject(null);\r\n        var resParams = params || {};\r\n        var route = what || this[config.restangularFields.route];\r\n        var fetchUrl = urlHandler.fetchUrl(this, what);\r\n        \r\n        var callObj = obj || this;\r\n        // fallback to etag on restangular object (since for custom methods we probably don't explicitly specify the etag field)\r\n        var etag = callObj[config.restangularFields.etag] || (operation !== 'post' ? this[config.restangularFields.etag] : null);\r\n        \r\n        if (_.isObject(callObj) && config.isRestangularized(callObj)) {\r\n          callObj = stripRestangular(callObj);\r\n        }\r\n        var request = config.fullRequestInterceptor(callObj, operation, route, fetchUrl,\r\n          headers || {}, resParams || {}, this[config.restangularFields.httpConfig] || {});\r\n        \r\n        var filledObject = {};\r\n        filledObject = config.transformElem(filledObject, false, route, service);\r\n        \r\n        var okCallback = function (response) {\r\n          var resData = _.get(response, 'data');\r\n          var fullParams = _.get(response, 'config.params');\r\n          \r\n          var elem = parseResponse(resData, operation, route, fetchUrl, response, subject);\r\n          \r\n          if (elem) {\r\n            var data;\r\n            if (true === config.plainByDefault) {\r\n              return resolvePromise(subject, response, elem, filledObject);\r\n            }\r\n            \r\n            if (operation === 'post' && !__this[config.restangularFields.restangularCollection]) {\r\n              data = restangularizeElem(\r\n                __this[config.restangularFields.parentResource],\r\n                elem,\r\n                route,\r\n                true,\r\n                null,\r\n                fullParams\r\n              );\r\n              resolvePromise(subject, response, data, filledObject);\r\n            } else {\r\n              data = restangularizeElem(\r\n                __this[config.restangularFields.parentResource],\r\n                elem,\r\n                __this[config.restangularFields.route],\r\n                true,\r\n                null,\r\n                fullParams\r\n              );\r\n              \r\n              data[config.restangularFields.singleOne] = __this[config.restangularFields.singleOne];\r\n              resolvePromise(subject, response, data, filledObject);\r\n            }\r\n            \r\n          } else {\r\n            resolvePromise(subject, response, undefined, filledObject);\r\n          }\r\n        };\r\n        \r\n        var errorCallback = function (response) {\r\n          if (response.status === 304 && config.isSafe(operation)) {\r\n            resolvePromise(subject, response, __this, filledObject);\r\n          } else if (_.every(config.errorInterceptors, function (cb: any) {\r\n              return cb(response, subject, okCallback) !== false;\r\n            })) {\r\n            // triggered if no callback returns false\r\n            subject.error(response);\r\n          }\r\n        };\r\n        // Overriding HTTP Method\r\n        var callOperation = operation;\r\n        var callHeaders = _.extend({}, request.headers);\r\n        var isOverrideOperation = config.isOverridenMethod(operation);\r\n        if (isOverrideOperation) {\r\n          callOperation = 'post';\r\n          callHeaders = _.extend(callHeaders, {'X-HTTP-Method-Override': operation === 'remove' ? 'DELETE' : operation.toUpperCase()});\r\n        } else if (config.jsonp && callOperation === 'get') {\r\n          callOperation = 'jsonp';\r\n        }\r\n        \r\n        if (config.isSafe(operation)) {\r\n          if (isOverrideOperation) {\r\n            urlHandler.resource(this, $http, request.httpConfig, callHeaders, request.params,\r\n              what, etag, callOperation)[callOperation]({}).subscribe(okCallback, errorCallback);\r\n          } else {\r\n            urlHandler.resource(this, $http, request.httpConfig, callHeaders, request.params,\r\n              what, etag, callOperation)[callOperation]().subscribe(okCallback, errorCallback);\r\n          }\r\n        } else {\r\n          urlHandler.resource(this, $http, request.httpConfig, callHeaders, request.params,\r\n            what, etag, callOperation)[callOperation](request.element).subscribe(okCallback, errorCallback);\r\n        }\r\n        \r\n        return restangularizeResponse(subject, false, filledObject);\r\n      }\r\n      \r\n      function getFunction(params, headers) {\r\n        return _.bind(elemFunction, this)('get', undefined, params, undefined, headers);\r\n      }\r\n      \r\n      function deleteFunction(params, headers) {\r\n        return _.bind(elemFunction, this)('remove', undefined, params, undefined, headers);\r\n      }\r\n      \r\n      function putFunction(params, headers) {\r\n        return _.bind(elemFunction, this)('put', undefined, params, undefined, headers);\r\n      }\r\n      \r\n      function postFunction(what, elem, params, headers) {\r\n        return _.bind(elemFunction, this)('post', what, params, elem, headers);\r\n      }\r\n      \r\n      function headFunction(params, headers) {\r\n        return _.bind(elemFunction, this)('head', undefined, params, undefined, headers);\r\n      }\r\n      \r\n      function traceFunction(params, headers) {\r\n        return _.bind(elemFunction, this)('trace', undefined, params, undefined, headers);\r\n      }\r\n      \r\n      function optionsFunction(params, headers) {\r\n        return _.bind(elemFunction, this)('options', undefined, params, undefined, headers);\r\n      }\r\n      \r\n      function patchFunction(elem, params, headers) {\r\n        return _.bind(elemFunction, this)('patch', undefined, params, elem, headers);\r\n      }\r\n      \r\n      function customFunction(operation, path, params, headers, elem) {\r\n        return _.bind(elemFunction, this)(operation, path, params, elem, headers);\r\n      }\r\n      \r\n      function addRestangularMethodFunction(name, operation, path, defaultParams, defaultHeaders, defaultElem) {\r\n        var bindedFunction;\r\n        if (operation === 'getList') {\r\n          bindedFunction = _.bind(fetchFunction, this, path);\r\n        } else {\r\n          bindedFunction = _.bind(customFunction, this, operation, path);\r\n        }\r\n        \r\n        var createdFunction = function (params, headers, elem) {\r\n          var callParams = _.defaults({\r\n            params: params,\r\n            headers: headers,\r\n            elem: elem\r\n          }, {\r\n            params: defaultParams,\r\n            headers: defaultHeaders,\r\n            elem: defaultElem\r\n          });\r\n          return bindedFunction(callParams.params, callParams.headers, callParams.elem);\r\n        };\r\n        \r\n        if (config.isSafe(operation)) {\r\n          this[name] = createdFunction;\r\n        } else {\r\n          this[name] = function (elem, params, headers) {\r\n            return createdFunction(params, headers, elem);\r\n          };\r\n        }\r\n      }\r\n      \r\n      function withConfigurationFunction(configurer) {\r\n        var newConfig = _.clone(_.omit(config, 'configuration'));\r\n        RestangularConfigurer(newConfig, newConfig);\r\n        configurer(newConfig);\r\n        return createServiceForConfiguration(newConfig);\r\n      }\r\n      \r\n      function toService(route, parent) {\r\n        var knownCollectionMethods = _.values(config.restangularFields);\r\n        var serv: any = {};\r\n        var collection = (parent || service).all(route);\r\n        serv.one = _.bind(one, (parent || service), parent, route);\r\n        serv.all = _.bind(collection.all, collection);\r\n        serv.post = _.bind(collection.post, collection);\r\n        serv.getList = _.bind(collection.getList, collection);\r\n        serv.withHttpConfig = _.bind(collection.withHttpConfig, collection);\r\n        serv.get = _.bind(collection.get, collection);\r\n        \r\n        for (var prop in collection) {\r\n          if (collection.hasOwnProperty(prop) && _.isFunction(collection[prop]) && !_.includes(knownCollectionMethods, prop)) {\r\n            serv[prop] = _.bind(collection[prop], collection);\r\n          }\r\n        }\r\n        \r\n        return serv;\r\n      }\r\n      \r\n      \r\n      RestangularConfigurer(service, config);\r\n      \r\n      service.copy = _.bind(copyRestangularizedElement, service);\r\n      \r\n      service.service = _.bind(toService, service);\r\n      \r\n      service.withConfig = _.bind(withConfigurationFunction, service);\r\n      \r\n      service.one = _.bind(one, service, null);\r\n      \r\n      service.all = _.bind(all, service, null);\r\n      \r\n      service.several = _.bind(several, service, null);\r\n      \r\n      service.oneUrl = _.bind(oneUrl, service, null);\r\n      \r\n      service.allUrl = _.bind(allUrl, service, null);\r\n      \r\n      service.stripRestangular = _.bind(stripRestangular, service);\r\n      \r\n      service.restangularizeElement = _.bind(restangularizeElem, service);\r\n      \r\n      service.restangularizeCollection = _.bind(restangularizeCollectionAndElements, service);\r\n      \r\n      return service;\r\n    }\r\n    \r\n    return createServiceForConfiguration(globalConfiguration);\r\n  };\r\n  \r\n}\r\n"]}